<div class="row" *ngIf="!this.symbol">
    <div class="col-12">
        <div class="card center30">
            <div class="card-header" style="background-color: #efdeff;">
                <h4 class="card-title"></h4>
            </div>
            <div class="card-content">
                <div class="card-body" style="background-color: #efdeff;">
                    <div class="row" style="text-align: center;">
                        <div class="col-sm-12">
                            <h4><b>Select a Symbol</b></h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row" *ngIf="this.symbol">
  
    <div class="col-sm-12">
        <section id="bg-variants">
            <div class="row match-height">
                <div class="col-md-10 col-12">
                    <div class="card card-inverse bg-success text-center">
                        <div class="card-content">
                            <div class="card-body">
                                <div class="row d-flex">
                                    <div class="col align-self-center col-sm-2" style="border-right: black 1px solid;">
                                        <div class="row align-self-center">
                                            <div class="col col-sm-4 align-self-center" style="padding-right: 0px;">
                                                <div class="row">
                                                    <div class="col col-sm-12 align-self-center" style="margin-bottom:15%">
                                                        <span *ngIf="!symbol.isMonitoring" name="button">
                                                            <i class="ft-eye font-large-1" title="Watchlist'e Ekle"
                                                                style="cursor: pointer;" (click)="addToWatchList()"></i>
                                                        </span>
                                                        <span *ngIf="symbol.isMonitoring" name="buttonRev">
                                                            <i class="ft-eye-off font-large-1" title="Watchlist'den Çıkar"
                                                                style="cursor: pointer;"
                                                                (click)="removeFromWatchList()"></i>
                                                        </span>
        
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col col-sm-12 align-self-center">
                                                        <i class="ft-bell font-large-1" title="Alert Oluştur"
                                                            style="cursor: pointer;"
                                                            (click)="showAlertModal()"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col align-self-center col-sm-8">
                                                <img src="{{symbol.logoUrl}}" title="{{symbol.ticker}}" width="80">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col align-self-center  col-sm-1">
                                    </div>
                                    <div class="col align-self-center  col-sm-2">
                                        <h4 class="card-title mb-2">Previous Open</h4>
                                        <p class="card-text">23.5 $</p>
                                        <br>
                                    </div>
                                    <div class="col align-self-center  col-sm-2">
                                        <h4 class="card-title mb-2">Earnings Date</h4>
                                        <p class="card-text">22 Aug (AMC)</p>
                                        <br>
        
                                    </div>
                                    <div class="col align-self-center  col-sm-2">
                                        <h4 class="card-title mb-2">Market Price</h4>
                                        <p class="card-text">Open</p>
                                        <p class="card-text">$1,26 (%6,78)</p>
                                    </div>
                                    <div class="col align-self-center  col-sm-2">
                                        <h4 class="card-title mb-2">Pre Market Price</h4>
                                        <p class="card-text">Open</p>
                                        <p class="card-text">$1,26 (%6,78)</p>
                                    </div>
                                </div>
                                <div style="background-color: black; margin-top: 1.5%; cursor: default;"
                                    class="align-self-center"><strong>Earnings</strong></div>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="col-md-2 col-12">
                    <div class="card card-inverse bg-danger text-center">
                        <div class="card-content">
                            <div class="card-body">
                                <div class="row d-flex">
                                    <div class="col align-self-center">
                                        <h4 class="card-title mb-3">Alert</h4>
                                        <p class="card-text">Option Strategies Detected</p>
                                        <hr>
                                        <p class="card-text">Earnings</p>
                                    </div>
        
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
            </div>
        </section>
    </div>
    
   <div class="col-sm-12">
    <div class="row" *ngIf="this.nextEarnings">
      <div class="col-sm-2"></div>
        <div class="col-sm-2">
            <div class="card card-outline-success box-shadow-0" style="background-color: white;">
                <div class="card-content">
                    <div class="card-body" style="height:150px;">
                        <div class="row d-flex">
                            <div class="col-sm-12 align-self-center" style="text-align: center;">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <span>
                                            Earnings Whisper
                                        </span>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-1"></div>
                                    <div class="col-sm-5">
                                        <div class="row">
                                            <span>{{'eps' | translate}}</span>
                                        </div>
                                        <div class="row">
                                            <span>{{'revenue' | translate}}</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="row">
                                            <span>{{nextEarnings.earningsWhisperEps ? (nextEarnings.earningsWhisperEps | number)  : '--'}}</span>
                                        </div>
                                        <div class="row">
                                            <span>{{nextEarnings.earningsWhisperRevenue ? (nextEarnings.earningsWhisperRevenue | number) + 'M' : '--'}}</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-1"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-2">
            <div class="card card-outline-success box-shadow-0" style="background-color: white;">
                <div class="card-content">
                    <div class="card-body" style="height:150px;">
                        <div class="row d-flex">
                            <div class="col-sm-12 align-self-center" style="text-align: center;">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <span>
                                            Earnings Whisper Sub
                                        </span>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-1"></div>
                                    <div class="col-sm-5">
                                        <div class="row">
                                            <span>{{'eps' | translate}}</span>
                                        </div>
                                        <div class="row">
                                            <span>{{'revenue' | translate}}</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="row">
                                            <span>{{nextEarnings.earningsWhisperSubEps ? (nextEarnings.earningsWhisperSubEps | number)  : '--'}}</span>
                                        </div>
                                        <div class="row">
                                            <span>{{nextEarnings.earningsWhisperSubRevenue ? (nextEarnings.earningsWhisperSubRevenue | number) + 'M' : '--'}}</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-1"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-2">
            <div class="card card-outline-success box-shadow-0" style="background-color: white;">
                <div class="card-content">
                    <div class="card-body" style="height:150px;">
                        <div class="row d-flex">
                            <div class="col-sm-12 align-self-center" style="text-align: center;">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <span>
                                            Seeking Alpha
                                        </span>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-1"></div>
                                    <div class="col-sm-5">
                                        <div class="row">
                                            <span>{{'eps' | translate}}</span>
                                        </div>
                                        <div class="row">
                                            <span>{{'revenue' | translate}}</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="row">
                                            <span>{{nextEarnings.seekingAlphaEps ? (nextEarnings.seekingAlphaEps | number)  : '--'}}</span>
                                        </div>
                                        <div class="row">
                                            <span>{{nextEarnings.seekingAlphaRevenue ? (nextEarnings.seekingAlphaRevenue | number) + 'M' : '--'}}</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-1"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-2">
            <div class="card card-outline-success box-shadow-0" style="background-color: white;">
                <div class="card-content">
                    <div class="card-body" style="height:150px;">
                        <div class="row d-flex">
                            <div class="col-sm-12 align-self-center" style="text-align: center;">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <span>
                                            Whisper Number
                                        </span>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-1"></div>
                                    <div class="col-sm-5">
                                        <div class="row">
                                            <span>{{'eps' | translate}}</span>
                                        </div>
                                        <div class="row">
                                            <span>{{'revenue' | translate}}</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="row">
                                            <span>{{nextEarnings.whisperNumberEps ? (nextEarnings.whisperNumberEps | number)  : '--'}}</span>
                                        </div>
                                        <div class="row">
                                            <span>{{nextEarnings.whisperNumberRevenue ? (nextEarnings.whisperNumberRevenue | number) + 'M' : '--'}}</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-1"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
   </div>

    <div class="col-sm-12">

        <!-- Row Details  Datatables -->
        <section id="ngx-datatable-row-details" *ngIf="rows">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">Other Predictions From Websites</h4>
                        </div>
                        <div class="card-content">
                            <div class="card-body">

                                <!-- ngx-datatable-row-details -->
                                <!-- ngx-datatable-filter -->
                                <fieldset class="form-group">
                                    <div class="row">
                                        <div class="col-sm-2">
                                            <label for="ngx-filter-rf">Ara:
                                                <input id="ngx-filter-rf"
                                                    class="form-control form-control-sm d-inline-block width-300"
                                                    type="text" placeholder="Ex Date Bilgisine Göre Ara..."
                                                    (keyup)="filterUpdate($event)" />
                                            </label>
                                        </div>

                                        <div class="col-sm-10"></div>
                                    </div>
                                </fieldset>
                                <ngx-datatable #tableRowDetails class="bootstrap core-bootstrap" [columnMode]="ColumnMode.force"
                                [headerHeight]="50" [footerHeight]="50" [rowHeight]="50" [limit]="10" [rows]="rows"
                                [sortType]="'multi'" [reorderable]="true"  [sorts]="[{prop: 'dividendDateText', dir: 'desc'}]" style="text-align: center;">

                              
                                
                                <ngx-datatable-column name="Quarter-Year" [width]="25">
                                    <ng-template let-value="row" ngx-datatable-cell-template>
                                        <div style="text-align: center;">
                                            {{ 'Q' + value.quarter + ' - ' + value.year }}
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Earnings Date" prop="earningsDateText" [width]="25">
                                    <ng-template let-value="value" ngx-datatable-cell-template>
                                        <div style="text-align: center;">
                                          <span>    {{ value ? value : '--' }}</span>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Eps / Forecast" [width]="25">
                                    <ng-template let-value="row" ngx-datatable-cell-template>
                                        <div class="row">
                                            <div class="col-sm-2"></div>
                                            <div class="col-sm-3" style="text-align: center;">
                                                <span
                                                    [ngStyle]="{'color': value.forecastEps && value.eps ? value.forecastEps > value.eps ? 'red' : 'green' : 'black' }">
                                                    {{ value.eps ? (value.eps | number) : '--' }}
                                                </span>
                                            </div>
                                            <div class="col-sm-2" style="text-align: center;">
                                                /
                                            </div>
        
                                            <div class="col-sm-3" style="text-align: center;">
                                                <span>
                                                    {{ value.forecastEps ? (value.forecastEps | number) : '--' }}
                                                </span>
                                            </div>
                                            <div class="col-sm-2"></div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Revenue / Forecast" [width]="25">
                                    <ng-template let-value="row" ngx-datatable-cell-template>
                                        <div class="row">
                                            <div class="col-sm-2"></div>
                                            <div class="col-sm-3">
                                                <span
                                                    [ngStyle]="{'color': value.forecastRevenue ? value.forecastRevenue > value.revenue ? 'red' : 'green' : 'black' }">
                                                    {{ value.revenue ? (value.revenue | number) : '--' }}
                                                </span>
                                            </div>
                                            <div class="col-sm-2">
                                                /
                                            </div>
                                            <div class="col-sm-3">
                                                <span>
                                                    {{ value.forecastRevenue ? (value.forecastRevenue | number) : '--' }}
                                                </span>
                                            </div>
                                            <div class="col-sm-2"></div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>

                                
                                <ngx-datatable-column name="Earnings Whisper" [width]="25">
                                    <ng-template let-value="row" ngx-datatable-cell-template>
                                        <div class="row">
                                            <div class="col-sm-2"></div>
                                            <div class="col-sm-3">
                                                <span
                                                    [ngStyle]="{'color': value.eps ? value.eps > value.earningsWhisperEps ? 'red' : 'green' : 'black' }">
                                                    {{ value.earningsWhisperEps ? (value.earningsWhisperEps | number) : '--' }}
                                                </span>
                                            </div>
                                            <div class="col-sm-2">
                                                /
                                            </div>
                                            <div class="col-sm-3">
                                                <span
                                                [ngStyle]="{'color': value.revenue ? value.revenue > value.earningsWhisperRevenue ? 'red' : 'green' : 'black' }">
                                                {{ value.earningsWhisperRevenue ? (value.earningsWhisperRevenue | number) : '--' }}
                                            </span>
                                            </div>
                                            <div class="col-sm-2"></div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>


                                
                                <ngx-datatable-column name="Earnings Whisper Sub" [width]="25">
                                    <ng-template let-value="row" ngx-datatable-cell-template>
                                        <div class="row">
                                            <div class="col-sm-2"></div>
                                            <div class="col-sm-3">
                                                <span
                                                    [ngStyle]="{'color': value.eps ? value.eps > value.earningsWhisperSubEps ? 'red' : 'green' : 'black' }">
                                                    {{ value.earningsWhisperSubEps ? (value.earningsWhisperSubEps | number) : '--' }}
                                                </span>
                                            </div>
                                            <div class="col-sm-2">
                                                /
                                            </div>
                                            <div class="col-sm-3">
                                                <span
                                                [ngStyle]="{'color': value.revenue ? value.revenue > value.earningsWhisperSubRevenue ? 'red' : 'green' : 'black' }">
                                                {{ value.earningsWhisperSubRevenue ? (value.earningsWhisperSubRevenue | number) : '--' }}
                                            </span>
                                            </div>
                                            <div class="col-sm-2"></div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>

                                

                                
                                <ngx-datatable-column name="Seeking Alpha" [width]="25">
                                    <ng-template let-value="row" ngx-datatable-cell-template>
                                        <div class="row">
                                            <div class="col-sm-2"></div>
                                            <div class="col-sm-3">
                                                <span
                                                    [ngStyle]="{'color': value.eps ? value.eps > value.seekingAlphaEps ? 'red' : 'green' : 'black' }">
                                                    {{ value.seekingAlphaEps ? (value.seekingAlphaEps | number) : '--' }}
                                                </span>
                                            </div>
                                            <div class="col-sm-2">
                                                /
                                            </div>
                                            <div class="col-sm-3">
                                                <span
                                                [ngStyle]="{'color': value.revenue ? value.revenue > value.seekingAlphaRevenue ? 'red' : 'green' : 'black' }">
                                                {{ value.seekingAlphaRevenue ? (value.seekingAlphaRevenue | number) : '--' }}
                                            </span>
                                            </div>
                                            <div class="col-sm-2"></div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>


                                
                                
                                <ngx-datatable-column name="Whisper Number" [width]="25">
                                    <ng-template let-value="row" ngx-datatable-cell-template>
                                        <div class="row">
                                            <div class="col-sm-2"></div>
                                            <div class="col-sm-3">
                                                <span
                                                    [ngStyle]="{'color': value.eps ? value.eps > value.whisperNumberEps ? 'red' : 'green' : 'black' }">
                                                    {{ value.whisperNumberEps ? (value.whisperNumberEps | number) : '--' }}
                                                </span>
                                            </div>
                                            <div class="col-sm-2">
                                                /
                                            </div>
                                            <div class="col-sm-3">
                                                <span
                                                [ngStyle]="{'color': value.revenue ? value.revenue > value.whisperNumberRevenue ? 'red' : 'green' : 'black' }">
                                                {{ value.whisperNumberRevenue ? (value.whisperNumberRevenue | number) : '--' }}
                                            </span>
                                            </div>
                                            <div class="col-sm-2"></div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>
                            </ngx-datatable>
                                <!-- ngx-datatable-row-details -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Row Details  Datatables -->
    </div>


</div>


<div *ngIf="this.symbol">
    <app-alert-modal #modal [selectedSymbol]="this.symbol"></app-alert-modal>
</div>